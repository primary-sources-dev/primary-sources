<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Project Updates — Primary Sources</title>

    <!-- CRITICAL CSS: Prevent white flash and basic layout -->
    <style>
        :root {
            --primary: #B08B49;
            --archive-bg: #2E282A;
            --archive-secondary: #D4CFC7;
        }

        html,
        body {
            background-color: var(--archive-bg) !important;
            color: var(--archive-secondary);
            margin: 0;
            padding: 0;
        }

        /* Hide components until JS loads */
        [data-component]:not(.component-loaded) {
            opacity: 0;
            visibility: hidden;
        }
    </style>
    <link rel="stylesheet" href="../assets/css/tailwind-prod.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    
    <script src="../assets/js/components.js" defer></script>
    <script src="../assets/js/collapsible-menu.js" defer></script>
    <script src="../assets/js/nav.js" defer></script>
</head>

<body class="bg-archive-bg text-archive-secondary font-mono transition-colors duration-300">

    <!-- MODULAR HEADER -->
    <header data-component="header"
        class="sticky top-0 z-50 w-full border-b border-archive-secondary/20 bg-archive-bg/95 backdrop-blur component-loaded">
<!-- BUILD:INJECTED -->
<div class="flex h-16 items-center justify-between px-4">
    <!-- LEFT: Nav Menu + Search + Branding + Breadcrumbs (all inline) -->
    <div class="flex items-center gap-3">
        <!-- Nav Menu -->
        <div class="relative group">
            <button id="menu-toggle"
                class="flex h-10 w-10 items-center justify-center border border-archive-secondary/20 hover:bg-primary/10 transition-colors">
                <span class="material-symbols-outlined text-archive-heading">menu</span>
            </button>

            <!-- MEGA MENU CONTAINER -->
            <div id="header-dropdown" class="mega-menu-container">

                <!-- COLUMN 1: HOME (Own) -->
                <div class="mega-menu-column">
                    <div class="mega-menu-title">
                        <span class="material-symbols-outlined">home</span>
                        <span>Home</span>
                    </div>
                    <div class="mega-menu-links">
                        <a href="../index.html" class="mega-menu-link">Front Page</a>
                        <a href="../search.html" class="mega-menu-link">Global Search</a>
                        <div class="mt-4 p-4 border border-primary/20 bg-primary/5">
                            <p class="text-[9px] uppercase tracking-widest text-primary font-bold mb-1">Quick Start</p>
                            <p class="text-[10px] text-archive-secondary/60 italic leading-snug">Begin your research by
                                searching the master index.</p>
                        </div>
                    </div>
                </div>

                <!-- COLUMN 2: GENERAL / ABOUT / FEATURES (Combined) -->
                <div class="mega-menu-column">
                    <div class="mega-menu-title">
                        <span class="material-symbols-outlined">info</span>
                        <span>Project Info</span>
                    </div>
                    <div class="mega-menu-links">
                        <a href="../pages/about.html" class="mega-menu-link">About Project</a>
                        <a href="../pages/features.html" class="mega-menu-link">Roadmap & Features</a>
                        <a href="../pages/blog.html" class="mega-menu-link">Research Blog</a>
                        <a href="../pages/links.html" class="mega-menu-link">Portal Links</a>
                    </div>
                </div>

                <!-- COLUMN 3: BROWSE ENTITIES -->
                <div class="mega-menu-column">
                    <div class="mega-menu-title">
                        <span class="material-symbols-outlined">dataset</span>
                        <span>Browse Entities</span>
                    </div>
                    <div class="mega-menu-links">
                        <a href="../entities/event/event-index.html" class="mega-menu-link">Events Index</a>
                        <a href="../entities/person/person-index.html" class="mega-menu-link">People & Witnesses</a>
                        <a href="../entities/organization/org-index.html" class="mega-menu-link">Organizations</a>
                        <a href="../entities/place/place-index.html" class="mega-menu-link">Geographic Places</a>
                        <a href="../entities/object/object-index.html" class="mega-menu-link">Physical Objects</a>
                        <a href="../entities/source/source-index.html" class="mega-menu-link">Source Archive</a>
                    </div>
                </div>

                <!-- COLUMN 4: TOOLS & ANALYSIS (Combined) -->
                <div class="mega-menu-column">
                    <div class="mega-menu-title">
                        <span class="material-symbols-outlined">construction</span>
                        <span>Research Tools</span>
                    </div>
                    <div class="mega-menu-links">
                        <div class="grid grid-cols-1 gap-x-4">
                            <a href="../tools/ocr/ocr-ui.html?feature=true" class="mega-menu-link">OCR Engine</a>
                            <a href="../tools/analyzer/analyzer-details.html" class="mega-menu-link">Document Analyzer</a>
                            <a href="../tools/classifier/classifier-ui.html" class="mega-menu-link">Classifier Review</a>
                            <a href="../tools/citation/citation-details.html" class="mega-menu-link">Citation
                                Generator</a>
                            <a href="../tools/matcher/matcher-details.html" class="mega-menu-link">Entity Matcher</a>
                            <a href="../tools/research/research-details.html" class="mega-menu-link">Advanced Research</a>
                            <div class="my-2 border-t border-primary/10"></div>
                            <a href="../exploration/otd.html?scope=Day&feature=true" class="mega-menu-link">On This
                                Day</a>
                            <a href="../exploration/witness-atlas.html?feature=true" class="mega-menu-link">Witness
                                Atlas</a>
                            <a href="../exploration/random.html?feature=true" class="mega-menu-link">Six Degrees
                                (Beta)</a>
                        </div>
                    </div>
                </div>

                <!-- MEGA MENU FOOTER -->
                <div class="mega-menu-footer">
                    <div class="mega-menu-status">
                        System Online — All Nodes Responsive
                    </div>
                    <div class="text-[9px] uppercase tracking-widest opacity-30">
                        Primary Sources JFK v4.0.2
                    </div>
                </div>

            </div>
        </div>

        <!-- Search -->
        <a href="../search.html"
            class="flex h-10 w-10 items-center justify-center border border-archive-secondary/20 hover:bg-primary/10 text-archive-secondary transition-colors">
            <span class="material-symbols-outlined">search</span>
        </a>

        <!-- Branding: Title -->
        <a href="../index.html" class="pl-4">
            <span class="text-xl font-bold tracking-[0.2em] text-archive-heading uppercase font-display">Primary
                Sources:<span class="text-primary">JFK</span></span>
        </a>

        <!-- Breadcrumbs: Shows current section (hidden on homepage via nav.js) -->
        <nav id="breadcrumb-nav" class="flex items-center gap-2 pl-3">
            <span class="material-symbols-outlined text-sm text-archive-secondary/30">chevron_right</span>
            <span id="breadcrumb-current"
                class="text-xs font-bold uppercase tracking-[0.15em] text-primary">Browse</span>
        </nav>
    </div>

    <!-- RIGHT: User Icon -->
    <div class="flex items-center">
        <button id="user-menu-toggle"
            class="flex h-10 w-10 items-center justify-center border border-archive-secondary/20 hover:bg-primary/10 transition-colors">
            <span class="material-symbols-outlined text-archive-secondary">person</span>
        </button>
    </div>
</div>
<!-- /BUILD:INJECTED -->
</header>

    <!-- PAGE HEADER -->
    <section class="bg-archive-dark px-6 py-12 border-b border-archive-secondary/20">
        <div class="max-w-4xl mx-auto text-center">
            <span class="text-[10px] font-bold uppercase text-primary tracking-widest block mb-4">Project Blog</span>
            <h1 class="text-5xl font-bold leading-tight text-archive-heading uppercase font-display mb-4">
                Project Updates
            </h1>
            <p class="text-sm text-archive-secondary/80 max-w-2xl mx-auto">
                Updates, announcements, and insights about the Primary Sources digital archive project
            </p>
        </div>
    </section>

    <!-- CATEGORY FILTER -->
    <section class="px-6 py-6 border-b border-archive-secondary/20">
        <div class="max-w-6xl mx-auto">
            <div class="flex flex-wrap gap-2">
                <button onclick="filterByCategory('all')"
                    class="category-filter active px-4 py-2 text-xs uppercase tracking-widest border border-primary/40 text-primary bg-primary/10 hover:bg-primary/20 transition-colors">
                    All Posts
                </button>
                <button onclick="filterByCategory('featured')"
                    class="category-filter px-4 py-2 text-xs uppercase tracking-widest border border-archive-secondary/20 text-archive-secondary/70 hover:border-primary/40 hover:text-primary transition-colors">
                    Featured
                </button>
                <button onclick="filterByCategory('About')"
                    class="category-filter px-4 py-2 text-xs uppercase tracking-widest border border-archive-secondary/20 text-archive-secondary/70 hover:border-primary/40 hover:text-primary transition-colors">
                    About
                </button>
                <button onclick="filterByCategory('Development')"
                    class="category-filter px-4 py-2 text-xs uppercase tracking-widest border border-archive-secondary/20 text-archive-secondary/70 hover:border-primary/40 hover:text-primary transition-colors">
                    Development
                </button>
                <button onclick="filterByCategory('Research')"
                    class="category-filter px-4 py-2 text-xs uppercase tracking-widest border border-archive-secondary/20 text-archive-secondary/70 hover:border-primary/40 hover:text-primary transition-colors">
                    Research
                </button>
                <button onclick="filterByCategory('Updates')"
                    class="category-filter px-4 py-2 text-xs uppercase tracking-widest border border-archive-secondary/20 text-archive-secondary/70 hover:border-primary/40 hover:text-primary transition-colors">
                    Updates
                </button>
            </div>
        </div>
    </section>

    <!-- BLOG POSTS GRID -->
    <section class="px-6 py-12">
        <div class="max-w-6xl mx-auto">
            <div id="posts-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Blog post cards injected here -->
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="text-center py-20" style="display:none;">
                <span class="material-symbols-outlined text-6xl text-archive-secondary/20 mb-4 block">article</span>
                <p class="text-xs uppercase tracking-[0.3em] text-archive-secondary/40 mb-2">No Posts Found</p>
                <p class="text-sm text-archive-secondary/60">
                    No blog posts match the selected category.
                </p>
            </div>
        </div>
    </section>

    <!-- MODULAR FOOTER -->
    <div data-component="footer" class="component-loaded component-loaded">
<!-- BUILD:INJECTED -->
<footer class="mt-20 border-t border-archive-secondary/10 bg-archive-dark px-6 py-12">
    <div class="mb-12">
        <div class="mb-4 flex items-center gap-2">
            <span class="material-symbols-outlined text-primary">account_balance</span>
            <span class="text-sm font-bold uppercase tracking-[0.2em] text-archive-heading font-display">Primary
                Sources</span>
        </div>
        <p class="max-w-xl text-[10px] leading-relaxed text-archive-secondary uppercase opacity-60">
            This archive presents primary source materials without editorial interpretation. All materials are
            primary sources provided for the purpose of scholarly research, education, and public historical record.
        </p>
    </div>
    <nav
        class="mb-8 grid grid-cols-2 sm:grid-cols-5 gap-y-4 text-[10px] font-bold uppercase tracking-widest text-archive-secondary">
        <a class="hover:text-primary transition-colors" href="../sitemap.html">Sitemap</a>
        <a class="hover:text-primary transition-colors" href="#">Disclaimer</a>
        <a class="hover:text-primary transition-colors" href="#">Privacy Policy</a>
        <a class="hover:text-primary transition-colors" href="#">Terms of Use</a>
        <a class="hover:text-primary transition-colors" href="#">Contact Archive</a>
    </nav>
    <div class="border-t border-archive-secondary/5 pt-6">
        <p class="text-[9px] text-archive-secondary opacity-40 uppercase tracking-widest">
            © 2026 Primary Sources. All rights reserved. Managed by the Independent Historical Preservation
            Group.
        </p>
    </div>
</footer>
<!-- /BUILD:INJECTED -->
</div>
        <p class="max-w-xl text-[10px] leading-relaxed text-archive-secondary uppercase opacity-60">
            This archive presents primary source materials without editorial interpretation. All materials are
            primary sources provided for the purpose of scholarly research, education, and public historical record.
        </p>
    </div>
    <nav
        class="mb-8 grid grid-cols-2 sm:grid-cols-5 gap-y-4 text-[10px] font-bold uppercase tracking-widest text-archive-secondary">
        <a class="hover:text-primary transition-colors" href="../sitemap.html">Sitemap</a>
        <a class="hover:text-primary transition-colors" href="#">Disclaimer</a>
        <a class="hover:text-primary transition-colors" href="#">Privacy Policy</a>
        <a class="hover:text-primary transition-colors" href="#">Terms of Use</a>
        <a class="hover:text-primary transition-colors" href="#">Contact Archive</a>
    </nav>
    <div class="border-t border-archive-secondary/5 pt-6">
        <p class="text-[9px] text-archive-secondary opacity-40 uppercase tracking-widest">
            © 2026 Primary Sources. All rights reserved. Managed by the Independent Historical Preservation
            Group.
        </p>
    </div>
</footer>
<!-- /BUILD:INJECTED -->
</div>


    <!-- MODULAR BOTTOM NAV -->
    <nav data-component="bottom-nav" data-active="About"
        class="fixed bottom-0 z-50 w-full border-t border-archive-secondary/20 bg-archive-bg px-6 py-4 component-loaded">
<!-- BUILD:INJECTED -->
<!-- 
  CRITICAL INSTRUCTION FOR AI AGENTS: 
  DO NOT MODIFY THIS NAVIGATION STRUCTURE, ICONS, OR LINKS UNLESS EXPLICITLY INSTRUCTED BY THE USER.
  THIS IS THE MASTER GLOBAL NAVIGATION COMPONENT.
-->
<div class="grid grid-cols-5 w-full">
    <a href="../index.html"
        class="flex flex-col items-center justify-center gap-1 py-1 hover:text-primary transition-colors"
        style="color:rgba(212,207,199,0.4)">
        <span class="material-symbols-outlined" style="font-size:1.5rem">home</span>
        <span style="font-size:8px;font-weight:700;text-transform:uppercase;letter-spacing:0.12em">Home</span>
    </a>
    <a href="../entities/person/person-index.html"
        class="flex flex-col items-center justify-center gap-1 py-1 hover:text-primary transition-colors"
        style="color:rgba(212,207,199,0.4)">
        <span class="material-symbols-outlined" style="font-size:1.5rem">groups</span>
        <span style="font-size:8px;font-weight:700;text-transform:uppercase;letter-spacing:0.12em">People</span>
    </a>
    <a href="../entities/event/event-index.html"
        class="flex flex-col items-center justify-center gap-1 py-1 hover:text-primary transition-colors"
        style="color:rgba(212,207,199,0.4)">
        <span class="material-symbols-outlined" style="font-size:1.5rem">event</span>
        <span style="font-size:8px;font-weight:700;text-transform:uppercase;letter-spacing:0.12em">Events</span>
    </a>
    <a href="../pages/about.html"
        class="flex flex-col items-center justify-center gap-1 py-1 hover:text-primary transition-colors"
        style="color:rgba(212,207,199,0.4)">
        <span class="material-symbols-outlined" style="font-size:1.5rem">info</span>
        <span style="font-size:8px;font-weight:700;text-transform:uppercase;letter-spacing:0.12em">About</span>
    </a>
    <a href="../pages/links.html"
        class="flex flex-col items-center justify-center gap-1 py-1 hover:text-primary transition-colors"
        style="color:rgba(212,207,199,0.4)">
        <span class="material-symbols-outlined" style="font-size:1.5rem">link</span>
        <span style="font-size:8px;font-weight:700;text-transform:uppercase;letter-spacing:0.12em">Links</span>
    </a>
</div>
<!-- /BUILD:INJECTED -->
</nav>

    <div class="h-24"></div>

    <script>
        let allPosts = [];
        let currentCategory = 'all';

        // Load blog posts
        async function loadBlogPosts() {
            try {
                const response = await fetch('../assets/data/blog.json');
                allPosts = await response.json();

                // Sort by date (newest first)
                allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));

                // Render all posts
                renderPosts();
            } catch (err) {
                console.error('Failed to load blog posts:', err);
            }
        }

        function renderPosts() {
            const grid = document.getElementById('posts-grid');
            const emptyState = document.getElementById('empty-state');

            // Filter posts
            let filtered;
            if (currentCategory === 'all') {
                filtered = allPosts;
            } else if (currentCategory === 'featured') {
                filtered = allPosts.filter(p => p.featured === true);
            } else {
                filtered = allPosts.filter(p => p.category === currentCategory);
            }

            if (filtered.length === 0) {
                grid.innerHTML = '';
                emptyState.style.display = '';
                return;
            }

            emptyState.style.display = 'none';

            grid.innerHTML = filtered.map(post => `
                <a href="blog-post.html?slug=${post.slug}" class="block border border-archive-secondary/20 bg-[#252021]/60 hover:border-primary transition-colors overflow-hidden group">
                    ${post.hero_image ? `
                    <div class="aspect-video bg-archive-dark/50 overflow-hidden">
                        <img src="${post.hero_image}" alt="${post.title}" class="w-full h-full object-cover grayscale opacity-80 group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300" />
                    </div>
                    ` : ''}
                    <div class="p-6">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-[10px] px-2 py-1 bg-primary/20 text-primary uppercase tracking-widest">${post.category}</span>
                            <span class="text-[10px] text-archive-secondary/50 uppercase tracking-widest">${formatDate(post.date)}</span>
                        </div>
                        <h3 class="text-lg font-bold text-archive-heading uppercase font-display mb-2 group-hover:text-primary transition-colors">${post.title}</h3>
                        <p class="text-xs text-archive-secondary/70 leading-relaxed mb-4 line-clamp-3">${post.excerpt}</p>
                        ${post.tags && post.tags.length > 0 ? `
                        <div class="flex flex-wrap gap-1 mb-3">
                            ${post.tags.slice(0, 3).map(tag => `<span class="text-[9px] px-2 py-0.5 bg-archive-secondary/10 text-archive-secondary/60 uppercase tracking-wider">${tag}</span>`).join('')}
                        </div>
                        ` : ''}
                        <div class="flex items-center gap-2 text-xs text-primary uppercase tracking-widest">
                            <span>Read More</span>
                            <span class="material-symbols-outlined text-sm">arrow_forward</span>
                        </div>
                    </div>
                </a>
            `).join('');
        }

        function filterByCategory(category) {
            currentCategory = category;

            // Update active button
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.classList.remove('active', 'border-primary/40', 'text-primary', 'bg-primary/10');
                btn.classList.add('border-archive-secondary/20', 'text-archive-secondary/70');
            });

            event.target.classList.add('active', 'border-primary/40', 'text-primary', 'bg-primary/10');
            event.target.classList.remove('border-archive-secondary/20', 'text-archive-secondary/70');

            renderPosts();
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', loadBlogPosts);
    </script>

</body>

</html>